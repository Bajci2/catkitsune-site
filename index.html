<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CatKitSune</title>

<style>
    body {
        margin: 0;
        padding: 0;
        background: #000;
        font-family: Arial, sans-serif;
        color: white;
        background: url("catkitsune-logo.png") center/cover no-repeat fixed;
        filter: brightness(1.15);
    }

    .logo {
        position: fixed;
        top: 20px;
        left: 20px;
        height: 70px;
        filter: drop-shadow(0 0 10px cyan);
    }

    #walletButton {
        position: fixed;
        top: 25px;
        right: 25px;
        padding: 12px 22px;
        border: 1px solid cyan;
        border-radius: 10px;
        font-size: 16px;
        background: rgba(0,255,255,0.12);
        color: cyan;
        cursor: pointer;
        backdrop-filter: blur(6px);
        transition: 0.3s;
    }

    #walletButton:hover {
        background: rgba(0,255,255,0.4);
    }
</style>

</head>
<body>

<img src="catkitsune-logo.png" class="logo" />

<button id="walletButton">Connect Wallet</button>

<script>
    let currentAccount = null;

    async function connectWallet() {
        if (!window.ethereum) {
            alert("MetaMask is not installed. Download it from https://metamask.io");
            return;
        }

        const accounts = await ethereum.request({ method: "eth_requestAccounts" });
        currentAccount = accounts[0];
        updateWalletUI();
    }

    function updateWalletUI() {
        const btn = document.getElementById("walletButton");

        if (currentAccount) {
            let short = currentAccount.slice(0, 6) + "..." + currentAccount.slice(-4);
            btn.textContent = short;
            btn.onclick = disconnectWallet;
        } else {
            btn.textContent = "Connect Wallet";
            btn.onclick = connectWallet;
        }
    }

    function disconnectWallet() {
        currentAccount = null;
        updateWalletUI();
    }

    // Auto restore session
    if (window.ethereum) {
        ethereum.request({ method: 'eth_accounts' }).then((accounts) => {
            if (accounts.length > 0) {
                currentAccount = accounts[0];
            }
            updateWalletUI();
        });
    }
</script>

</body>
</html>
