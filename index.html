<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CatKitSune</title>

<style>
  body {
    margin: 0;
    background: #000;
    font-family: Arial, sans-serif;
    color: white;
  }

  /* Background Image - now CLICK-THROUGH */
  .bg {
    position: fixed;
    inset: 0;
    background: url("catkitsune-logo.png") center/cover no-repeat;
    opacity: 0.25;
    pointer-events: none; /* <-- THIS FIXES THE PROBLEM */
    filter: blur(4px) brightness(1.2);
  }

  /* Logo */
  .logo {
    position: fixed;
    top: 18px;
    left: 18px;
    height: 60px;
    z-index: 999;
    filter: drop-shadow(0 0 12px cyan);
  }

  /* Wallet Button */
  #walletBtn {
    position: fixed;
    top: 22px;
    right: 22px;
    padding: 12px 20px;
    font-size: 16px;
    border-radius: 10px;
    border: 1px solid cyan;
    background: rgba(0, 255, 255, 0.15);
    backdrop-filter: blur(6px);
    color: cyan;
    cursor: pointer;
    transition: 0.25s;
    z-index: 999; /* <-- ensures button is clickable */
  }

  #walletBtn:hover {
    background: rgba(0, 255, 255, 0.45);
  }
</style>
</head>

<body>

<div class="bg"></div>
<img src="catkitsune-logo.png" class="logo">

<button id="walletBtn">Connect Wallet</button>

<script>
  let account = null;

  async function connectWallet() {
    if (!window.ethereum) {
      alert("MetaMask not detected. Install from https://metamask.io");
      return;
    }

    try {
      const accounts = await ethereum.request({ method: "eth_requestAccounts" });
      account = accounts[0];
      updateBtn();
    } catch (err) {
      console.log(err);
    }
  }

  function disconnectWallet() {
    account = null;
    updateBtn();
  }

  function updateBtn() {
    const btn = document.getElementById("walletBtn");

    if (account) {
      btn.textContent = account.slice(0,6) + "..." + account.slice(-4) + " âœ•";
      btn.onclick = disconnectWallet;
    } else {
      btn.textContent = "Connect Wallet";
      btn.onclick = connectWallet;
    }
  }

  // Auto reconnect:
  if (window.ethereum) {
    ethereum.request({ method: "eth_accounts" }).then(accts => {
      if (accts.length > 0) account = accts[0];
      updateBtn();
    });
  }
</script>

</body>
</html>
