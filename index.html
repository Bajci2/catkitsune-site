<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>CatKitSune â€“ Quests & Swap</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
body { font-family: Inter, sans-serif; background: #f6ecff; }
.login-btn { padding:6px 12px; border-radius:999px; border:1px solid #ccc; cursor:pointer; }
</style>
</head>
<body>

<header>
  <div class="logo">CatKitSune</div>
  <div class="top-actions">
    <button class="login-btn" id="walletBtn">
      <img src="https://cdn.iconscout.com/icon/free/png-256/free-wallet-1782134-1514445.png" 
      style="width:18px; vertical-align:middle; margin-right:6px;">
      Connect Wallet
    </button>
  </div>
</header>

<h1>CatKitSune full forced MetaMask connect version</h1>

<script>
async function connectWallet() {
  if (!window.ethereum) {
    alert("MetaMask not found!");
    return;
  }
  try {
    await ethereum.request({
      method: 'wallet_requestPermissions',
      params: [{ eth_accounts: {} }]
    });
    const accounts = await ethereum.request({ method: "eth_requestAccounts" });
    const addr = accounts[0];
    const short = addr.substring(0,6) + "..." + addr.substring(addr.length-4);
    document.getElementById("walletBtn").innerHTML =
      '<img src="https://cdn.iconscout.com/icon/free/png-256/free-wallet-1782134-1514445.png" style="width:18px;vertical-align:middle;margin-right:6px;">'
      + short;
    window.currentWallet = addr;
  } catch(e) { console.log(e); }
}

function disconnectWallet(){
  window.currentWallet = null;
  document.getElementById("walletBtn").innerHTML =
    '<img src="https://cdn.iconscout.com/icon/free/png-256/free-wallet-1782134-1514445.png" style="width:18px;vertical-align:middle;margin-right:6px;">Connect Wallet';
}

document.getElementById("walletBtn").addEventListener("click", ()=>{
  if(!window.currentWallet) connectWallet();
  else disconnectWallet();
});
</script>

</body>
</html>
