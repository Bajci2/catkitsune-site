<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>CatKitSune ‚Äì Quests & Swap</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet"/>
<style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    :root {
      --bg-main: #f6ecff;
      --bg-card: #ffffff;
      --primary: #6a3df5;
      --primary-soft: #e2d6ff;
      --accent-green: #28c76f;
      --border: #e5e7eb;
      --text-main: #111827;
      --text-muted: #6b7280;
      --radius-lg: 16px;
      --radius-xl: 20px;
      --shadow-card: 0 10px 30px rgba(15, 23, 42, 0.12);
    }

    body {
      font-family: "Inter", sans-serif;
      background: var(--bg-main);
      color: var(--text-main);
      min-height: 100vh;
    }

    .app { min-height: 100vh; display: flex; flex-direction: column; }

    header {
      padding: 6px 16px;
      background: var(--bg-main);
      border-bottom: 1px solid var(--border);
      display: flex; align-items: center; justify-content: space-between;
    }

    .logo {
      font-size: 14px;
      font-weight: 800;
      display: flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
    }

    .paw-icon {
      width: 24px;
      height: 24px;
      display: inline-block;
      background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><ellipse cx="65" cy="50" rx="23" ry="33" fill="%238b5cf6"/><ellipse cx="135" cy="50" rx="23" ry="33" fill="%238b5cf6"/><ellipse cx="35" cy="80" rx="20" ry="30" fill="%238b5cf6" transform="rotate(-25 35 80)"/><ellipse cx="165" cy="80" rx="20" ry="30" fill="%238b5cf6" transform="rotate(25 165 80)"/><ellipse cx="100" cy="130" rx="55" ry="50" fill="%238b5cf6"/></svg>');
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
    }
    .top-actions { display: flex; align-items: center; gap: 8px; }

    .login-btn {
      font-size: 12px; padding: 6px 12px; border-radius: 999px;
      border: 1px solid var(--border);
      background: #f9fafb;
      cursor: pointer;
      display:flex;
      align-items:center;
      gap:6px;
      transition: all 0.2s;
    }

    .login-btn:hover {
      background: #f3f4f6;
      transform: translateY(-1px);
    }

    .avatar {
      width: 26px; height: 26px; border-radius: 50%;
      background: linear-gradient(135deg, #6a3df5, #22c55e);
    }

    main { flex: 1; padding: 0 12px 80px; max-width: 1200px; margin: 0 auto; width: 100%; }

    .top-nav {
      margin-top: 4px;
      display: flex;
      justify-content: center;
      gap: 12px;
      margin-bottom: 8px;
    }

    .top-nav-btn {
      padding: 6px 16px;
      font-size: 13px;
      border-radius: 999px;
      border: 1px solid #d4d4d8;
      background: #fff;
      cursor: pointer;
      transition: 0.2s;
    }

    .top-nav-btn:hover { background: #f3f4f6; }

    .top-nav-btn.active {
      background: #6a3df5;
      color: white;
      border-color: #6a3df5;
    }

    .view { display: none; }
    .view.active { display: block; }

    .hero-card {
      background: linear-gradient(180deg, #f6ecff 0%, #efe3ff 100%);
      border-radius: 20px;
      padding: 16px 14px 14px;
      box-shadow: var(--shadow-card);
      margin-bottom: 12px;
      text-align: center;
    }

    .hero-title { font-size: 18px; font-weight: 800; margin-bottom: 3px; }
    .hero-sub { font-size: 12px; color: var(--text-muted); margin-bottom: 12px; }

    .stats-row {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 8px; margin-bottom: 0;
    }
</style>
</head>

<body>
<div class="app">

<header>
<div class="logo" onclick="showView(event, 'quests')">
<span class="paw-icon"></span>
<span>CatKitSune</span>
</div>

<div class="top-actions">
<button class="login-btn" id="walletBtn" onclick="toggleWallet()">
<img src="https://cdn-icons-png.flaticon.com/512/891/891462.png" style="width:18px;"/>
<span id="walletText">Connect Wallet</span>
</button>

<button class="login-btn" id="twitterBtn" onclick="loginWithTwitter()">
<img src="https://cdn-icons-png.flaticon.com/512/733/733579.png" style="width:18px;"/>
Login with Twitter
</button>

<div id="twitterAvatar" style="display:none; align-items:center; gap:6px;"></div>
<div class="avatar"></div>
</div>
</header>

<div class="top-nav">
<button class="top-nav-btn active" onclick="showView(event, 'quests')">Quests</button>
</div>

<main class="view active" id="view-quests">

<div class="hero-card">

<!-- üî• IDE RAKTAM AZ √öJ SZ√ñVEGET, AMIT K√âRT√âL -->
<div class="hero-title">üêæ CatKitSune Leaderboard is LIVE!</div>

<div class="hero-sub" style="white-space:pre-line; text-align:left; padding:10px; font-size:13px;">

If you want to earn points and climb the rankings,
here‚Äôs all you need to do on every new post:

‚úÖ Follow me  
‚ù§Ô∏è Like the post  
üîÅ Retweet it  
üí¨ Leave a comment  

You will earn points on the website for every interaction! üíú‚ö°  
Every 3 hours I will post again ‚Üí more chances to earn points!

</div>
</div>

<div class="content-grid">

<div class="card">
<div class="card-title"><span class="dot"></span> Leaderboard</div>

<div style="position:relative;margin-bottom:20px;">
<input type="text" id="questsLeaderboardSearch" placeholder="Search for user or wallet address..." oninput="filterQuestsLeaderboard()" style="width:100%;padding:10px 36px 10px 12px;border-radius:10px;border:1px solid #e5e7eb;font-size:13px;outline:none;background:white;">
<span style="position:absolute;right:12px;top:50%;transform:translateY(-50%);opacity:0.5;">üîç</span>
</div>

<div style="border:1px solid #e5e7eb;border-radius:10px;background:white;overflow:hidden;">
<div style="background:#f9fafb;padding:10px 14px;display:grid;grid-template-columns:80px 1.2fr 2fr 1fr; gap:12px;font-size:12px;font-weight:600;color:#6b7280;border-bottom:2px solid #e5e7eb;position:sticky;top:0;z-index:10;">
<div>Rank</div>
<div>User</div>
<div>Address</div>
<div style="text-align:right;">Points</div>
</div>

<div id="questsLeaderboardRows" style="max-height:250px;overflow-y:auto;"></div>
</div>

<div style="margin-top:20px;background:linear-gradient(135deg,#f6ecff,#e8f5e9);border:1px solid #e5e7eb;border-radius:12px;padding:20px;">
<div style="font-size:14px;font-weight:700;color:#6a3df5;margin-bottom:12px;display:flex;align-items:center;gap:8px;">
üîó Your Referral Link
</div>
<div style="position:relative;">
<input type="text" id="referralLink" readonly value="https://catkitsune.com/ref/0x7a8b9c..." style="width:100%;padding:12px 80px 12px 12px;border-radius:10px;border:1px solid #d4d4ff;font-size:13px;outline:none;background:white;font-family:monospace;" onclick="this.select()">
<button onclick="copyReferralLink()" style="position:absolute;right:8px;top:50%;transform:translateY(-50%);padding:6px 16px;background:#6a3df5;color:white;border:none;border-radius:8px;font-size:12px;font-weight:600;cursor:pointer;">Copy</button>
</div>
</div>
</div>


<!-- QUESTS + NFT GALLERY -->

<div class="quests-section">

<div class="card">
<div class="card-title"><span class="dot"></span> Quests</div>
<div class="mission-list">

<div class="mission-item" onclick="completeQuest(this, 150)">
<div class="mission-left">
<div class="mission-check"></div>
<div>
<div class="mission-text-title">Follow on X</div>
<div class="mission-text-sub">Follow <a href="https://x.com/GborSzakl1" target="_blank" onclick="event.stopPropagation()">@GborSzakl1</a> on X.</div>
</div>
</div>
<div class="mission-points">+150 EP</div>
</div>

<div class="mission-item" onclick="completeQuest(this, 300)">
<div class="mission-left">
<div class="mission-check"></div>
<div>
<div class="mission-text-title">Mint the CatKitSune NFT</div>
<div class="mission-text-sub">Airdrop bonus reward.</div>
</div>
</div>
<div class="mission-points">+300 EP</div>
</div>

<div class="mission-item" onclick="completeQuest(this, 150)">
<div class="mission-left">
<div class="mission-check"></div>
<div>
<div class="mission-text-title">Swap on CatKitSune</div>
<div class="mission-text-sub">Make a swap worth at least $10.</div>
</div>
</div>
<div class="mission-points">+150 EP</div>
</div>

<div class="mission-item" onclick="completeQuest(this, 250)">
<div class="mission-left">
<div class="mission-check"></div>
<div>
<div class="mission-text-title">Share on X</div>
<div class="mission-text-sub"><a href="https://x.com/GborSzakl1/status/1989254176568672659" target="_blank" onclick="event.stopPropagation()">Open Tweet</a></div>
</div>
</div>
<div class="mission-points">+250 EP</div>
</div>

<div class="mission-item" onclick="completeQuest(this, 500)">
<div class="mission-left">
<div class="mission-check"></div>
<div>
<div class="mission-text-title">Bridge to HYPE</div>
<div class="mission-text-sub">Bridge $10 to HYPE.</div>
</div>
</div>
<div class="mission-points">+500 EP</div>
</div>

<div class="mission-item" onclick="completeQuest(this, 300)">
<div class="mission-left">
<div class="mission-check"></div>
<div>
<div class="mission-text-title">Mini Mover</div>
<div class="mission-text-sub">Transact $50 today.</div>
</div>
</div>
<div class="mission-points">+300 EP</div>
</div>

</div>
</div>


<div class="card">
<div class="card-title"><span class="dot"></span> NFT Gallery</div>
<div class="nft-grid">

<div class="nft-card"><div><strong>CatKitSune</strong><span class="nft-count" id="nft-0">0 owned</span></div></div>
<div class="nft-card"><div><strong>Hypurr</strong><span class="nft-count" id="nft-1">0 owned</span></div></div>
<div class="nft-card"><div><strong>Hyperian Genesis</strong><span class="nft-count" id="nft-2">0 owned</span></div></div>
<div class="nft-card"><div><strong>Wealthy Hypio Babies</strong><span class="nft-count" id="nft-3">0 owned</span></div></div>

<div class="nft-card"><div><strong>Tiny Hyper Cats</strong><span class="nft-count" id="nft-4">0 owned</span></div></div>
<div class="nft-card"><div><strong>Illumeownati</strong><span class="nft-count" id="nft-5">0 owned</span></div></div>
<div class="nft-card"><div><strong>Hypers</strong><span class="nft-count" id="nft-7">0 owned</span></div></div>
<div class="nft-card"><div><strong>Mechacats</strong><span class="nft-count" id="nft-8">0 owned</span></div></div>

<div class="nft-card"><div><strong>BAE</strong><span class="nft-count" id="nft-11">0 owned</span></div></div>
<div class="nft-card"><div><strong>Hypo</strong><span class="nft-count" id="nft-12">0 owned</span></div></div>

</div>
</div>

</div>
</div>
</main>
</div>


<!-- JAVASCRIPT PART -->

<script>
let walletConnected = false;
let walletAddress = '';
let totalPoints = 0;
let completedCount = 0;

function showView(event, viewName) {
  document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
  document.querySelectorAll('.top-nav-btn').forEach(btn => btn.classList.remove('active'));
  document.getElementById('view-' + viewName).classList.add('active');
  if (event && event.target) event.target.classList.add('active');
}

async function connectWallet() {
  if (typeof window.ethereum === 'undefined') {
    alert('Install MetaMask!');
    return;
  }

  try {
    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
    walletAddress = accounts[0];
    walletConnected = true;
    updateWalletButton();
    updateReferralLink();
  } catch (error) {
    console.error('Wallet error:', error);
  }
}

function updateWalletButton() {
  const shortAddress = walletAddress.slice(0, 6) + '...' + walletAddress.slice(-4);
  document.getElementById('walletText').textContent = shortAddress;
}

function updateReferralLink() {
  if (walletAddress) {
    const shortAddress = walletAddress.slice(0, 8);
    document.getElementById('referralLink').value = `https://catkitsune.com/ref/${shortAddress}`;
  }
}

function completeQuest(element, points) {
  const checkbox = element.querySelector('.mission-check');
  if (checkbox.classList.contains('completed')) return;

  checkbox.classList.add('completed');
  element.style.opacity = '0.7';
  element.style.pointerEvents = 'none';

  totalPoints += points;
  completedCount++;

  document.getElementById('totalPoints').textContent = totalPoints;
  document.getElementById('completedQuests').textContent = completedCount;
}

function filterQuestsLeaderboard() {
  // search function placeholder
}

window.onload = function() {
  const savedWallet = sessionStorage.getItem('wallet_address');
  if (savedWallet) {
    walletAddress = savedWallet;
    walletConnected = true;
    updateWalletButton();
    updateReferralLink();
  }
};
</script>

</body>
</html>
